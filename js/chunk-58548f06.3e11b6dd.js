(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58548f06","chunk-bfe954c6"],{"0aa8":function(t,e,a){"use strict";var s=a("1da3"),i=a.n(s);i.a},"0e8f":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o}));var s=a("b775");function i(t){return Object(s["b"])({url:"admin/department",method:"get",params:t})}function n(t){return Object(s["b"])({url:"admin/department",method:"delete",data:t})}function r(t){return Object(s["b"])({url:"admin/department",method:"put",data:t})}function o(t){return Object(s["b"])({url:"admin/department",method:"post",data:t})}},"1da3":function(t,e,a){},8280:function(t,e,a){"use strict";var s=a("cd5e"),i=a.n(s);i.a},ab51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("model",{attrs:{title:t.titleList[t.model],visible:t.visible},on:{close:t.handelColse,submit:t.submit}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("a-form",[a("a-row",[a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("部门名称：")]),a("a-input",{staticClass:"form_input",attrs:{value:t.form.name,"default-value":t.form.name,placeholder:"请输入部门名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("部门状态：")]),a("a-switch",{attrs:{value:t.form.status},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)]),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("部门备注：")]),a("a-input",{staticClass:"form_textarea",attrs:{"default-value":t.form.describe,value:t.form.describe,type:"textarea",placeholder:"请输入名称"},model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1)])],1)],1)],1)])},i=[],n=(a("b0c0"),a("a9e3"),a("0e8f")),r=a("2af9"),o={props:{visible:{type:Boolean,required:!0},model:{type:Number,default:function(){return 0}},formData:{type:[String,Object],default:function(){}}},components:{Model:r["j"]},data:function(){return{titleList:["新建","编辑"],form:{id:0,name:"",describe:"",status:!0}}},methods:{setData:function(t){this.form.id=t.id,this.form.name=t.name,this.form.describe=t.describe,0===t.status?this.form.status=!0:this.form.status=!1},handelColse:function(){this.form.id=0,this.form.name="",this.form.describe="",this.form.status=!0,this.$emit("cancel")},submit:function(){var t=this,e=this.form.status?0:1;0===this.model?Object(n["a"])({name:this.form.name,describe:this.form.describe,status:e}).then((function(e){200===e.code?(t.$message.success("添加成功"),t.handelColse()):t.$message.error("添加失败")})):Object(n["d"])({id:this.form.id,name:this.form.name,describe:this.form.describe,status:e}).then((function(e){200===e.code?(t.$message.success("修改成功"),t.handelColse()):t.$message.error("修改失败")}))}}},c=o,d=(a("8280"),a("0c7c")),l=Object(d["a"])(c,s,i,!1,null,"63391002",null);e["default"]=l.exports},cd5e:function(t,e,a){},fea97:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{title:!1}},[a("div",{staticClass:"page_list"},[a("a-row",[a("a-col",{attrs:{span:4}},[a("s-tree",{attrs:{dataSource:t.userList,openKeys:t.openKeys,search:!1,checkedKeys:t.openKeys},on:{"update:openKeys":function(e){t.openKeys=e},"update:open-keys":function(e){t.openKeys=e},click:t.handleClick,addClick:t.addClick}})],1),a("a-col",{staticStyle:{"padding-left":"20px","padding-top":"10px"},attrs:{span:18}},[a("div",[0===t.key?a("a-empty",{attrs:{description:"请先选择左侧部门"}}):t._e()],1),0!==t.key?a("div",[a("div",{staticClass:"head_left_menu"},[a("a-button",{on:{click:t.handleEdit}},[t._v("编辑")]),a("a-button",{attrs:{type:"danger"},on:{click:t.deleteDepartment}},[t._v("删除")])],1),a("a-descriptions",{attrs:{title:"部门信息",column:2}},[a("a-descriptions-item",{attrs:{label:"部门姓名"}},[t._v(" "+t._s(t.department.name)+" ")]),a("a-descriptions-item",{attrs:{label:"部门备注"}},[t._v(" "+t._s(t.department.describe)+" ")]),a("a-descriptions-item",{attrs:{label:"状态"}},[a("a-badge",{attrs:{status:t.department.status?"error":"success",text:t.department.status?"关闭":"正常"}})],1),a("a-descriptions-item",{attrs:{label:"创建时间"}},[t._v(" "+t._s(t.department.addTime)+" ")]),a("a-descriptions-item",{attrs:{label:"更新时间"}},[t._v(" "+t._s(t.department.updateTime)+" ")])],1)],1):t._e()])],1)],1),a("edit-panle",{ref:"editModel",attrs:{visible:t.editVisible,model:t.panleMode,formData:t.panleData},on:{cancel:t.panleCanle}})],1)},i=[],n=(a("d81d"),a("b0c0"),a("1bff")),r=a("0e8f"),o=a("ab51"),c=[{icon:"apartment",key:"key-01",title:"系统级别",children:[{key:"key-01-00",title:"部门岗位",group:!0,children:[]}]}],d={name:"Meua",components:{editPanle:o["default"],STree:n["a"]},data:function(){return{key:0,department:{name:"无",describe:"无",status:1,addTime:"",updateTime:""},panleMode:0,editVisible:!1,panleData:{},userList:c,openKeys:["key-01"]}},activated:function(){this.getDepartmentList()},methods:{getDepartmentList:function(){var t=this;Object(r["c"])({page:1,pageSize:20}).then((function(e){if(200===e.code){var a=[];e.data.list.length&&e.data.list.map((function(t){var e={};e={title:t.name,key:t.id},a.push(e)})),t.userList[0].children[0].children=a}}))},handleClick:function(t){var e=this;Object(r["c"])({page:1,pageSize:999,id:t.key,fold:!0}).then((function(a){200===a.code&&(e.department=a.data.list[0]),e.key=t.key}))},deleteDepartment:function(){var t=this,e=[];e.push(t.key),this.$confirm({title:"你确定要删除吗？",content:"如果这个部门也会一并删除部门下面的子部门",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(r["b"])({idList:e}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.key=0):t.$message.error("删除失败")}))}})},panleCanle:function(){this.getDepartmentList(),this.editVisible=!1,this.key=0},handleEdit:function(){this.panleMode=1,this.editVisible=!0,this.$refs.editModel.setData(this.department)},addClick:function(){this.panleMode=0,this.editVisible=!0,this.panleData={}}}},l=d,u=(a("0aa8"),a("0c7c")),m=Object(u["a"])(l,s,i,!1,null,"7a8db431",null);e["default"]=m.exports}}]);