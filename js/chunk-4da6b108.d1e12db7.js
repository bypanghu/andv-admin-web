(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4da6b108","chunk-02bd05fe"],{"0f36":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{title:!1}},[a("a-card",{attrs:{loading:t.loading,bordered:!1}},[a("div",{staticClass:"table_header",staticStyle:{display:"flex","justify-content":"space-between","padding-right":"20px"}},[a("div",[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addUser}},[t._v(" 新建 ")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"delete",disabled:t.isOpenExport},on:{click:t.deleteRouter}},[t._v(" 删除路由 ")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"disconnect",disabled:t.isOpenExport},on:{click:t.closeMenu}},[t._v(" 暂停路由 ")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"link",disabled:t.isOpenExport},on:{click:t.openMenu}},[t._v(" 激活路由 ")])],1),a("div",{staticClass:"headInput"},[a("a-select",{staticStyle:{width:"200px","border-radius":"0px"},attrs:{"show-search":"",value:t.value,placeholder:"请输入搜索的路由名称","default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":null,selectedRowKeys:t.selectedRowKeys},on:{onChange:t.handleOnchage,search:t.handleSearch,change:t.handleChange}},t._l(t.columns,(function(e){return a("a-select-option",{key:e.title,staticStyle:{"border-radius":"0px"}},[t._v(" "+t._s(e.title)+" ")])})),1),a("a-button",{attrs:{icon:"search",type:"primary"}},[t._v(" 查找 ")]),a("a-popover",{attrs:{trigger:"click",placement:"left"}},[a("template",{slot:"title"},[t._v(" 自定义显示列表 ")]),a("template",{slot:"content"},[a("a-checkbox-group",{staticClass:"checkGroup",attrs:{options:t.checkColums},on:{change:t.onChage},model:{value:t.hasCheckColums,callback:function(e){t.hasCheckColums=e},expression:"hasCheckColums"}})],1),a("a-button",{staticClass:"popuerButton",attrs:{icon:"ordered-list",type:"primary"}},[t._v(" 列表 ")])],2)],1)]),a("a-table",{staticStyle:{"margin-top":"10px"},attrs:{id:"components-table-demo-size",columns:t.showColums,pagination:t.pagination,"data-source":t.tabledata,rowKey:"id","row-selection":t.rowSelection},scopedSlots:t._u([{key:"name",fn:function(e,n){return[a("span",[a("span",{staticClass:"table_name",on:{click:function(e){return t.openDialogName(n)}}},[t._v(t._s(e))])])]}},{key:"icon",fn:function(e){return[a("span",[e?a("a-icon",{attrs:{type:e}}):t._e(),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e))])],1)]}},{key:"status",fn:function(e){return[a("span",[a("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})],1)]}},{key:"buildOptionText",fn:function(e){return["50"!==e.value?a("span",[t._v(t._s(e.value)+"条/页")]):t._e(),"50"===e.value?a("span",[t._v("全部")]):t._e()]}}])})],1),a("menu-panle",{ref:"createModal",attrs:{visible:t.visible,model:t.showType,formData:t.formData},on:{cancel:t.handleCancel}})],1)},s=[],o=(a("d81d"),a("b705")),i=a("1f27"),r=[{title:"路由名称",width:180,dataIndex:"name",key:"1",fixed:"left",scopedSlots:{customRender:"name"}},{title:"路由icon",dataIndex:"icon",key:"2",scopedSlots:{customRender:"icon"}},{title:"创建时间",dataIndex:"updateTime",key:"4"},{title:"路由地址",dataIndex:"path",key:"7"},{title:"路由文件",dataIndex:"components",key:"8"},{title:"路由排序",dataIndex:"sort",key:"9"},{title:"状态",dataIndex:"status",key:"6",scopedSlots:{customRender:"status"}},{title:"备注",dataIndex:"describe",key:"5"}],c={0:{status:"success",text:"正常"},1:{status:"default",text:"关闭"}},l=[{title:"名称",dataIndex:"name"},{title:"手机",dataIndex:"phone"},{title:"上级",dataIndex:"p_name"},{title:"套餐类型",dataIndex:"type"}],u={name:"Agent",data:function(){return{loading:!0,tabledata:[],columns:r,hasCheckColums:[],checkColums:[],selectedRowKeys:[],showColums:[],isOpenExport:!0,serchList:l,value:"",pageSizeOptions:["10","50","100"],current:1,pagination:{defaultPageSize:10,total:10,"show-size-changer":!0},showType:0,visible:!1,baseVisible:!1,baseType:"",baseAgentId:0,hasChildren:!1,formData:{}}},components:{menuPanle:o["default"]},filters:{statusFilter:function(t){return c[t].text},statusTypeFilter:function(t){return c[t].status}},created:function(){this.checkGroupInit()},activated:function(){this.getMenuListInit()},computed:{rowSelection:function(){var t=this;return{onChange:function(e,a){e.length>0?(t.isOpenExport=!1,t.selectedRowKeys=e):t.isOpenExport=!0}}}},methods:{getMenuListInit:function(){var t=this;Object(i["b"])({page:1,pageSize:10,fold:!0}).then((function(e){t.loading=!1,t.tabledata=e.result}))},deleteRouter:function(){var t=this;this.$confirm({title:"你确定要删除吗？",content:"如果这个路由下存在子路由，删除也会将下方的子路由一并删除！",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.$message.success("只是展示")}})},closeMenu:function(){var t=this;this.$confirm({title:"你确定要暂停吗？？",content:"如果这个路由下存在子路由，暂停也会将下方的子路由一并暂停，所有用户都将不得访问！",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.$message.success("只是展示")}})},openMenu:function(){var t=this;this.$confirm({title:"你确定要激活吗？？",content:"如果这个路由下存在子路由，激活也会将下方的子路由一并激活！",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){t.$message.success("只是展示")}})},checkGroupInit:function(){var t=this.columns,e=[],a=[],n=[];t.map((function(t){var s={},o=String(t.dataIndex);a.push(o),n.push(t),s.label=t.title,s.value=String(t.dataIndex),"操作"===t.title&&(s.disabled=!0),e.push(s)})),this.hasCheckColums=a,this.checkColums=e,this.showColums=n},onChage:function(t){var e,a=this;0!==t.length&&function(){var n=[];for(e in t)r.map((function(a){t[e]===a.dataIndex&&n.push(a)}));a.showColums=n}()},handleSearch:function(t){},handleChange:function(t){},handleOnchage:function(t){},openDialogName:function(t){this.visible=!0,this.showType=1,this.$refs.createModal.setData(JSON.stringify(t))},addUser:function(){this.visible=!0,this.showType=0,this.userData={}},handleCancel:function(){this.visible=!1,this.showType=0,this.getMenuListInit()},gotoAgentDetails:function(t){},handleBaseCancel:function(){this.baseVisible=!1,this.baseType=""}}},d=u,f=(a("ee89"),a("0c7c")),m=Object(f["a"])(d,n,s,!1,null,"10c92e8c",null);e["default"]=m.exports},"1f27":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return i}));var n=a("b775");function s(t){return Object(n["b"])({url:"menu/list",method:"get",params:t})}function o(t){return Object(n["b"])({url:"admin/menu",method:"put",data:t})}function i(t){return Object(n["b"])({url:"admin/menu",method:"post",data:t})}},2928:function(t,e,a){"use strict";var n=a("cf76"),s=a.n(n);s.a},8379:function(t,e,a){},b705:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("model",{attrs:{title:t.titleList[t.model],visible:t.visible},on:{close:t.handelColse,submit:t.submit}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("a-form",[a("a-row",[a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("路由名称：")]),a("a-input",{staticClass:"form_input",attrs:{value:t.form.name,"default-value":t.form.name,placeholder:"请输入路由名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("路由path：")]),a("a-input",{staticClass:"form_input",attrs:{value:t.form.path,"default-value":t.form.path,placeholder:"请输入路由path"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("请选择icon")]),a("a-popover",{attrs:{trigger:"click"}},[a("template",{slot:"content"},[a("icon-selector",{staticStyle:{width:"500px"},on:{change:t.handelChangeIcon},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1),a("a-input",{staticClass:"form_input",attrs:{value:t.form.icon,"default-value":t.form.icon,placeholder:"请选择图标"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],2)],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("上级路由：")]),a("a-select",{staticStyle:{width:"60%"},attrs:{"show-search":"",placeholder:"请选择上级路由","default-value":t.form.parentId,"show-arrow":!1,"not-found-content":null},on:{change:t.handleRouterChange}},t._l(t.tabledata,(function(e,n){return a("a-select-option",{key:n,attrs:{value:e.id}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.name))])])})),1)],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("指向文件：")]),a("a-input",{staticClass:"form_input",attrs:{value:t.form.component,"default-value":t.form.component,placeholder:"请输入路由的指向路径"},model:{value:t.form.component,callback:function(e){t.$set(t.form,"component",e)},expression:"form.component"}})],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("是否显示：")]),a("a-switch",{attrs:{value:t.form.status},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)]),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("路由排序：")]),a("a-input",{staticClass:"form_input",attrs:{value:t.form.sort,"default-value":t.form.sort,placeholder:"数字越小越靠上"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)]),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"form_item"},[a("div",{staticClass:"form_title"},[t._v("备注：")]),a("a-input",{staticClass:"form_textarea",attrs:{"default-value":t.form.describe,value:t.form.describe,type:"textarea",placeholder:"请输入名称"},model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1)])],1)],1)],1)])},s=[],o=(a("b0c0"),a("a9e3"),a("2af9")),i=a("1f27"),r=a("5e81"),c={props:{visible:{type:Boolean,required:!0},model:{type:Number,default:function(){return 0}},formData:{type:[String,Object],default:function(){}}},watch:{visible:{handler:function(t){t&&this.getMenuListInit()}}},data:function(){return{titleList:["新建","编辑"],form:{id:0,name:"",parentId:0,icon:"",component:"",describe:"",sort:"",status:!0,path:""},tabledata:[],modelWidth:this.$store.getters.modelWidth}},created:function(){this.getMenuListInit()},components:{IconSelector:r["a"],Model:o["j"]},activated:function(){},methods:{setData:function(t){var e=JSON.parse(t);this.form.id=e.id,this.form.name=e.name,this.form.parentId=e.parentId,this.form.icon=e.icon,this.form.component=e.components,this.form.path=e.path,this.form.sort=e.sort,this.form.describe=e.describe,0===e.status?this.form.status=!0:this.form.status=!1},handelColse:function(){this.form={id:0,name:"",parentId:0,icon:"",component:"",describe:"",sort:"",status:!0,path:""},this.$emit("cancel")},getMenuListInit:function(){var t=this;Object(i["b"])({page:1,pageSize:10}).then((function(e){if(200===e.code){var a=[{name:"根菜单",id:0}];if(e.data.list.length>0)for(var n in e.data.list)a.push({name:e.data.list[n].name,id:e.data.list[n].id});t.tabledata=a}}))},submit:function(){var t=this,e=this.form.status?0:1;0===this.model?Object(i["a"])({name:this.form.name,parentId:this.form.parentId,icon:this.form.icon,url:this.form.component,path:this.form.path,sort:this.form.sort,describe:this.form.describe,status:e}).then((function(e){t.handelColse(),200===e.code?(t.$message.success("添加成功"),t.getMenuListInit()):t.$message.error("添加失败")})):Object(i["c"])({id:this.form.id,name:this.form.name,parentId:this.form.parentId,icon:this.form.icon,url:this.form.component,path:this.form.path,sort:this.form.sort,describe:this.form.describe,status:e}).then((function(e){t.handelColse(),200===e.code?(t.$message.success("编辑成功"),t.getMenuListInit()):t.$message.error("编辑失败")}))},handleChange:function(t){this.form.icon=t},handleRouterChange:function(t){this.form.parentId=t},handelChangeIcon:function(t){this.form.icon=t}}},l=c,u=(a("2928"),a("0c7c")),d=Object(u["a"])(l,n,s,!1,null,"ef394bbe",null);e["default"]=d.exports},cf76:function(t,e,a){},ee89:function(t,e,a){"use strict";var n=a("8379"),s=a.n(n);s.a}}]);